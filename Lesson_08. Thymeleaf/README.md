# ![Spring logo](https://github.com/InsaneDan/InsaneDan/blob/main/spring.png)

### Урок 8. Thymeleaf

<details>
<summary>Шаблонизатор Thymeleaf. Интеграция с фреймворком Spring. Выражения. Операторы.</summary>

1. Сделайте страницу для отображения всех товаров.
2. Рядом с каждым товаром в таблице попробуйте сделать кнопку "Удалить", при нажатии на которую товар должен быть удален и базы.
3. *Попробуйте реализовать разбивку всех товаров на страницы, по 10 товаров на каждой.
<details>
<summary>Комментарии</summary>

* удаление / добавление / редактирование товаров с сохранением результатов в БД (коррекция того, что было сделано на уроке Spring MVC);
* количество товаров в бейдже корзины (фрагмент header) отображается на всех страницах, реализация за счет прямого обращения к синглтон-бину из шаблона;  
* пример работы DateFormatter на странице index.html
* пагинация списка товаров и меню для перемещения по страницам.  
  Полный список товаров на одной странице по индексу = 0 (...localhost:8081/app/products/0).
* фильтр по минимальной и максимальной цене, по части названия товара (с сохранением навигации по страницам).  
  Для работы с формой через Thymeleaf создан доп.класс с соответствующими полями (ProductFilter).
  В рабочем коде оставлен method="get", т.к. не требует дополнительной точки в контроллере, post - закомментирован.  
  * через GET-запрос в "основной" эндпоинт @GetMapping({"", "/{pageIndex}"}):  
    ...localhost:8081/app/products/1?minPrice=0&maxPrice=1000000&partName=&productsPerPage=5  
  * через POST-запрос в дополнительный эндпоинт @PostMapping("/filter"), в котором заполняются атрибуты и делается редирект на
    @GetMapping({"", "/{pageIndex}"}).

– т.к. изменилась логика работы корзины, то товары не суммируются, а каждый экземпляр достается из репозитория и сохраняется отдельно.
В последующих уроках будет реализован REST-контроллер корзины, поэтому пока не исправлено.
</details>
</details>